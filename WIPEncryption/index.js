(function(l,c,s,u,e,g){"use strict";const{FormText:d}=g.Forms;function m(){return React.createElement(d,null,"Hello, world!")}const f=u.findByName("RowManager"),o="Encryption";function p(t,r){let n={id:"",type:0,content:"",channel_id:r.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof t=="string"?n.content=t:n={...n,...t},n}const E=function(t){return t?.content?.startsWith("<enc:")?t.content.split(":")[1]?.length>2:!1};let a=[];const h=function(){try{const t=s.before("generate",f.prototype,function([r]){if(E(r.message))try{const n=function(){try{const i=r?.message?.content?.split(":")[1];return i?atob(i):null}catch{return null}}();if(n==null)return;r.message.content=`${n}
-# [Triggered Encryption]`}catch{return}});a.push(t),e.logger.log(`${o} loaded.`)}catch(t){e.logger.error(`[${o} Error]`,t)}};var S={onLoad:function(){e.logger.log(`Loading ${o}...`);for(let t of["MESSAGE_CREATE","MESSAGE_UPDATE","LOAD_MESSAGES","LOAD_MESSAGES_SUCCESS"])e.logger.log(`Dispatching ${t} to enable handler.`),c.FluxDispatcher.dispatch({type:t,message:p("PLACEHOLDER",{id:"0"}),messages:[]});h()},onUnload:function(){e.logger.log(`Unloading ${o}...`);for(let t of a)t();a=[],e.logger.log(`${o} unloaded.`)},settings:m};return l.default=S,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta,vendetta.ui.components);
