(function(l,i,c,s,o,g){"use strict";const{FormText:u}=g.Forms;function d(){return React.createElement(u,null,"Hello, world!")}const m=s.findByName("RowManager"),r="Encryption";function f(e,t){let n={id:"",type:0,content:"",channel_id:t.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof e=="string"?n.content=e:n={...n,...e},n}const p=function(e){if(!e?.content?.startsWith("<enc:"))return!1;const t=e.content.split(":");return t.length<2?!1:t[1]?.length>2};let a=[];const E=function(){try{const e=c.before("generate",m.prototype,function([t]){if(p(t.message))try{let n=atob(t.message.content?.split(":")[1])??null;if(n==null)return;t.message.content=`${n}
-# [Triggered Encryption]`}catch{return}});a.push(e),o.logger.log(`${r} loaded.`)}catch(e){o.logger.error(`[${r} Error]`,e)}};var h={onLoad:function(){o.logger.log(`Loading ${r}...`);for(let e of["MESSAGE_CREATE","MESSAGE_UPDATE","LOAD_MESSAGES","LOAD_MESSAGES_SUCCESS"])o.logger.log(`Dispatching ${e} to enable handler.`),i.FluxDispatcher.dispatch({type:e,message:f("PLACEHOLDER",{id:"0"}),messages:[]});E()},onUnload:function(){o.logger.log(`Unloading ${r}...`);for(let e of a)e();a=[],o.logger.log(`${r} unloaded.`)},settings:d};return l.default=h,Object.defineProperty(l,"__esModule",{value:!0}),l})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta,vendetta.ui.components);
