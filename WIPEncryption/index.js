(function(i,a,c,s,n,g){"use strict";const{FormText:u}=g.Forms;function d(){return React.createElement(u,null,"Hello, world!")}const m=s.findByName("RowManager"),o="Encryption";function f(t,r){let e={id:"",type:0,content:"",channel_id:r.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof t=="string"?e.content=t:e={...e,...t},e}const p=function(t){return t.content?.startsWith("<enc:")?t.content.split(":")[1]?.length>2:!1};let l=[];const E=function(){try{const t=c.before("generate",m.prototype,function([r]){if(p(r.message)){const e=function(){try{return atob(r.message.content.split(":")[1])}catch{return null}}();if(e==null)return;r.message.content=`${e}
-# [Triggered Encryption]`}});l.push(t),n.logger.log(`${o} loaded.`)}catch(t){n.logger.error(`[${o} Error]`,t)}};var h={onLoad:function(){n.logger.log(`Loading ${o}...`);for(let t of["MESSAGE_CREATE","MESSAGE_UPDATE","LOAD_MESSAGES","LOAD_MESSAGES_SUCCESS"])n.logger.log(`Dispatching ${t} to enable handler.`),a.FluxDispatcher.dispatch({type:t,message:f("PLACEHOLDER",{id:"0"}),messages:[]});E()},onUnload:function(){n.logger.log(`Unloading ${o}...`);for(let t of l)t();l=[],n.logger.log(`${o} unloaded.`)},settings:d};return i.default=h,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta,vendetta.ui.components);
