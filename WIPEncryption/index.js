(function(a,l,s,c,t,g){"use strict";const{FormText:d}=g.Forms;function m(){return React.createElement(d,null,"Hello, world!")}const u=c.findByName("RowManager"),n="Encryption";function p(e,o){let r={id:"",type:0,content:"",channel_id:o.id,author:{id:"",username:"",avatar:"",discriminator:"",publicFlags:0,avatarDecoration:null},attachments:[],embeds:[],mentions:[],mention_roles:[],pinned:!1,mention_everyone:!1,tts:!1,timestamp:"",edited_timestamp:null,flags:0,components:[]};return typeof e=="string"?r.content=e:r={...r,...e},r}const f=function(e){return e.content?.startsWith("<enc:")?e.content.split(":")[1]?.length>2:!1};let i=[];const E=function(){try{const e=s.before("generate",u.prototype,function([o]){f(o.message)&&(o.message.content=`${atob(o.message.content.split(":")[1])}
-# [Triggered Encryption]`)});i.push(e),t.logger.log(`${n} loaded.`)}catch(e){t.logger.error(`[${n} Error]`,e)}};var S={onLoad:function(){t.logger.log(`Loading ${n}...`);for(let e of["MESSAGE_CREATE","MESSAGE_UPDATE","LOAD_MESSAGES","LOAD_MESSAGES_SUCCESS"])t.logger.log(`Dispatching ${e} to enable handler.`),l.FluxDispatcher.dispatch({type:e,message:p("PLACEHOLDER",{id:"0"}),messages:[]});E()},onUnload:function(){t.logger.log(`Unloading ${n}...`);for(let e of i)e();i=[],t.logger.log(`${n} unloaded.`)},settings:m};return a.default=S,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.metro.common,vendetta.patcher,vendetta.metro,vendetta,vendetta.ui.components);
